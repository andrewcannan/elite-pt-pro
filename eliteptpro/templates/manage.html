{% extends "base.html" %}
{% block content %}
<div class="row center-align">
    <h1 class="wblack-text">Manage</h1>
</div>

<div class="row">
    <div class="col s12 m8 offset-m2">
        <div class="card-panel grey">
                <h5>Users</h5>
            <table class="black-text responsive-table highlight">
                <tr>
                    <th>Username</th>
                    <th>First Name</th>
                    <th>Last Name</th>
                    <th>Are a Personal Trainer?</th>
                    <th>Edit</th>
                    <th>Delete</th>
                </tr>
                {% for user in users %}
                <tr>
                    <td>{{ user.username }}</td>
                    <td>{{ user.fname.capitalize() }}</td>
                    <td>{{ user.lname.capitalize() }}</td>
                    <td>{{ user.is_pt }}</td>
                    <td><a href="{{ url_for('edit_user', user_id=user.id) }}"
                            class="btn light-green accent-4 black-text">Edit</a>
                    </td>
                    <td><a href="#user-modal{{ user.id }}" class="btn red modal-trigger black-text">Delete</a>
                    </td>
                </tr>
                <!-- Modal Structure -->
                <div id="user-modal{{ user.id }}" class="modal">
                    <div class="modal-content black-text left-align">
                        <p>Are you sure you want to apply these changes?</p>
                    </div>
                    <div class="modal-footer">
                        <a href="#" class="modal-close waves-effect waves-green btn-flat">Cancel</a>
                        <a href="{{ url_for('delete_user', user_id=user.id) }}"
                            class="modal-close waves-effect waves-green btn-flat">Delete</a>
                    </div>
                </div>
                {% endfor %}
            </table>
        </div>
    </div>
</div>

<div class="row">
    <div class="col s12 m8 offset-m2">
        <div class="card-panel grey">
                <h5>Trainers</h5>
            <table class="black-text responsive-table highlight">
                <tr>
                    <th>Trainer Name</th>
                    <th>Delete</th>
                </tr>
                {% for trainer in trainers %}
                <tr>
                    <td>{{ trainer.trainer_name.capitalize() }}</td>
                    <td><a href="#trainer-modal{{ trainer.id }}" class="btn red modal-trigger black-text">Delete</a>
                    </td>
                </tr>
                <!-- Modal Structure -->
                <div id="trainer-modal{{ trainer.id }}" class="modal">
                    <div class="modal-content black-text left-align">
                        <p>Are you sure you want to apply these changes?</p>
                    </div>
                    <div class="modal-footer">
                        <a href="#" class="modal-close waves-effect waves-green btn-flat">Cancel</a>
                        <a href="{{ url_for('delete_trainer', trainer_id=trainer.id) }}"
                            class="modal-close waves-effect waves-green btn-flat">Delete</a>
                    </div>
                </div>
                {% endfor %}
            </table>
        </div>
    </div>
</div>

<div class="row">
    <div class="col s12 m8 offset-m2">
        <div class="card-panel grey">
                <h5>PT Sessions</h5>
            <table class="black-text responsive-table highlight">
                <tr>
                    <th>Member Name</th>
                    <th>Date</th>
                    <th>Time</th>
                    <th>Trainer Name</th>
                    <th>Edit</th>
                    <th>Delete</th>
                </tr>
                {% for pt_session in pt_sessions %}
                <tr>
                    <td>{{ pt_session.name.capitalize() }}</td>
                    <td>{{ pt_session.date.strftime("%d %B, %Y") }}</td>
                    <td>{{ pt_session.time.strftime("%H: %M") }}</td>
                    <td>{{ pt_session.trainer_name.capitalize() }}</td>
                    <td><a href="{{ url_for('edit_pt_session', pt_session_id=pt_session.id) }}"
                            class="btn light-green accent-4 black-text">Edit</a></td>
                    <td><a href="#pt-session-modal{{ pt_session.id }}"
                            class="btn red modal-trigger black-text">Delete</a>
                    </td>
                </tr>
                <!-- Modal Structure -->
                <div id="pt-session-modal{{ pt_session.id }}" class="modal">
                    <div class="modal-content black-text left-align">
                        <p>Are you sure you want to apply these changes?</p>
                    </div>
                    <div class="modal-footer">
                        <a href="#" class="modal-close waves-effect waves-green btn-flat">Cancel</a>
                        <a href="{{ url_for('delete_pt_session', pt_session_id=pt_session.id) }}"
                            class="modal-close waves-effect waves-green btn-flat">Delete</a>
                    </div>
                </div>
                {% endfor %}
            </table>
        </div>
    </div>
</div>

<div class="row">
    <div class="col s12 m8 offset-m2">
        <div class="card-panel grey">
                <h5>Holidays</h5>
            <table class="black-text responsive-table highlight">
                <tr>
                    <th>Trainer Name</th>
                    <th>Date</th>
                    <th>Delete</th>
                </tr>
                {% for holiday in holidays %}
                <tr>
                    <td>{{ holiday.trainer_name.capitalize() }}</td>
                    <td>{{ holiday.date.strftime("%d %B, %Y") }}</td>
                    <td><a href="#holiday-modal{{ holiday.id }}" class="btn red modal-trigger black-text">Delete</a>
                    </td>
                </tr>
                <!-- Modal Structure -->
                <div id="holiday-modal{{ holiday.id }}" class="modal">
                    <div class="modal-content black-text left-align">
                        <p>Are you sure you want to apply these changes?</p>
                    </div>
                    <div class="modal-footer">
                        <a href="#" class="modal-close waves-effect waves-green btn-flat">Cancel</a>
                        <a href="{{ url_for('delete_holiday', holiday_id=holiday.id) }}"
                            class="modal-close waves-effect waves-green btn-flat t">Delete</a>
                    </div>
                </div>
                {% endfor %}
            </table>
        </div>
    </div>
</div>

{% endblock %}